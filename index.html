<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WebGL engine</title>
</head>
<body>
  
  <canvas id="canvas"></canvas>

  <script src="js/engine/config.js"></script>
  <script src="js/lib/require.js"></script>
  <script type="text/javascript">
    GL_loader({
      app: [],
      modules: [ 'models', 'animation', 'shaders', 'camera', 'scene' ],
      shaders: [ 'shader-fs' , 'shader-vs' ]
    },
    function (GL){

      GL.init( document.getElementById('canvas') , 800 , 600 );

      GL.extend('models');
      GL.extend('animation');
      GL.extend('shaders');
      GL.extend('scene');
      GL.extend('camera');

      var camera = new GL.Camera(GL,45),
        scene = new GL.Scene(GL);

      scene.setCamera(camera);

      var triangulo = new GL.Model(),
        polygon = new GL.Polygon();

      polygon.addVertex(new GL.Vertex(0.0,1.0,0.0,[1.0,0.0,0.0,1.0]));
      polygon.addVertex(new GL.Vertex(-1.0,-1.0,0.0,[0.0,1.0,0.0,1.0]));
      polygon.addVertex(new GL.Vertex(1.0,-1.0,0.0,[0.0,0.0,1.0,1.0]));

      triangulo.addPolygon(polygon);
      triangulo.setPos([-1.5, 0.0, -7.0]);

      console.log(triangulo.getColors());

      function start(){
        GL.shaders.initialize(GL,['shader-fs','shader-vs'],['uPMatrix','uMVMatrix','aVertexPosition','aVertexColor']);
        scene.addModel(triangulo);

        scene.clean();

        camera.calculate(0.1,100.0);

        scene.draw();
      }
      start();
      
    });
  </script>

  </script>
</body>
</html>